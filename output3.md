<!-- model：OpenAI o3 -->

**要件定義書作成**

ユーザーが求めているのは、プログラミング初学者向けのToDoリストアプリのための要件定義書です。このアプリの目的、背景、想定ユーザーや利用シーンを明確にし、基本機能として追加、編集、削除、完了の管理を含め、JSONやSQLiteによるデータ保存を推奨します。CLIインターフェースを提供し、将来的なGUIへの拡張を予定。競合分析を基に機能をシンプルにし、テスト計画や品質要件も加えます。

## ToDoリスト（ローカル保存版 → GUI 版）要件定義書

*バージョン 0.9（2025‑05‑04 作成）*

---

### 1. 目的

1. **プログラミング初学者が段階的に学べる教材**として、
   *CLI → GUI → 拡張機能* へステップアップできる ToDo アプリを開発する。
2. **オブジェクト指向設計・ファイル I/O・MVC などの実践的スキル**を身につける。
3. 市場で普及しているタスク管理アプリ（Todoist / TickTick など）の**コア機能を最小構成で再現**し、将来的な機能拡張・課金モデル比較のベースにする。

---

### 2. 背景・市場機会

| 項目      | インサイト                                                                                                 |
| ------- | ----------------------------------------------------------------------------------------------------- |
| 競合状況    | 主要アプリは **クラウド同期・マルチデバイス**を押さえつつ、<br>　Todoist＝高機能／TickTick＝習慣管理／Google Tasks＝軽量…など差別化。                 |
| 初学者向け課題 | クラウドや複数 OS をいきなり扱うとハードルが高い。<br>**ローカル完結**の小規模アプリで「データ永続化」「MVC」などの基礎を学びたい。                             |
| 差別化ポイント | - **シンプル実装**& **コード学習重視**<br>- 完全オフラインでも使える **JSON / SQLite 保存**<br>- GUI 化を教材として段階追加（Tkinter → PyQt） |

---

### 3. 想定ユーザー

| ユーザータイプ         | ゴール                           | 課題                |
| --------------- | ----------------------------- | ----------------- |
| プログラミング初学者      | Python 基礎＋OOP＋簡易 GUI を一気通貫で体験 | 教材が分散／難易度ギャップ     |
| PC に詳しくない一般ユーザー | シンプルなタスク整理をローカルで済ませたい         | クラウド登録や多機能 UI が煩雑 |

---

### 4. 用語定義（抜粋）

| 用語        | 定義                               |
| --------- | -------------------------------- |
| タスク       | 期限やメモを持つ「やること」1 件                |
| リスト       | タスクをまとめるグループ（＝Todoist のプロジェクト相当） |
| 完了フラグ     | タスクが終わったことを示す真偽値                 |
| JSON ファイル | `tasks.json` などに保存するテキスト形式データ    |
| SQLite DB | `todo.db` に保存する軽量 RDB            |

---

### 5. スコープ

| フェーズ              | 対応範囲                | 主な学習テーマ         |
| ----------------- | ------------------- | --------------- |
| **MVP (Phase 1)** | CLI 版＋JSON 保存       | OOP／例外処理／単体テスト  |
| **Phase 2**       | データ層を SQLite に切替    | SQL 基礎／DAO パターン |
| **Phase 3**       | GUI（Tkinter）        | MVC 分離／イベント駆動   |
| **Phase 4**       | GUI（PyQt）、タグ・優先度・検索 | MVVM／デザインパターン   |

---

### 6. 機能要件

#### 6.1 必須機能（MVP）

| ID   | 機能       | 詳細・備考                            |
| ---- | -------- | -------------------------------- |
| F‑01 | タスク追加    | タイトル・期限（任意）・メモ（任意）入力             |
| F‑02 | タスク編集    | 上記属性を更新／バリデーション                  |
| F‑03 | タスク削除    | 物理削除 or ゴミ箱無し                    |
| F‑04 | 完了／未完了切替 | CLI：コマンド / GUI：チェックボックス          |
| F‑05 | タスク一覧表示  | 期限昇順ソート（デフォルト）                   |
| F‑06 | データ永続化   | アプリ終了時に JSON 保存、起動時にロード          |
| F‑07 | 単体テスト    | `pytest` で CRUD／I/O をカバー（80% 以上） |

#### 6.2 将来拡張候補

| ID   | 機能               | 優先度 |
| ---- | ---------------- | --- |
| F‑08 | タグ & 優先度フィルタ     | ★★☆ |
| F‑09 | 繰り返しタスク          | ★★☆ |
| F‑10 | 検索（キーワード／期限範囲）   | ★★☆ |
| F‑11 | CSV/ICS エクスポート   | ★☆☆ |
| F‑12 | カレンダービュー（PyQt）   | ★☆☆ |
| F‑13 | クラウド同期（REST API） | ☆☆☆ |

---

### 7. 非機能要件

| 区分      | 要件                                                     |
| ------- | ------------------------------------------------------ |
| ユーザビリティ | GUI 版の主要操作を**3 クリック以内**で完了できる。                         |
| 性能      | 1,000 タスク保存時に起動 ≦ 1.0 s、<br>一覧描画 ≦ 100 ms。             |
| 保守性     | PEP 8 準拠、モジュール分割（`models/`, `views/`, `controllers/`）。 |
| テスト容易性  | モック可能な I/O 層＆依存性注入でテスト独立。                              |
| ポータビリティ | Windows 10+, macOS 12+, Ubuntu 22.04 LTS。              |
| セキュリティ  | ローカル保存のみ。個人情報保存は想定せず。                                  |

---

### 8. ユーザーインターフェース要件（GUI 版）

| 画面         | 要素                                      | 説明                  |
| ---------- | --------------------------------------- | ------------------- |
| メインウィンドウ   | タスク一覧（Table/ListView）、追加ボタン、編集・削除・完了トグル | 一覧の行ダブルクリックで編集ダイアログ |
| タスク編集ダイアログ | 入力フォーム：タイトル（必須）・期限（DatePicker）・メモ       | 保存／キャンセル            |
| メニューバー     | ファイル（保存／終了）、表示（完了タスクを隠す）                |                     |

---

### 9. データ要件

#### 9.1 JSON フォーマット（MVP）

```json
{
  "version": 1,
  "tasks": [
    {
      "id": "uuid",
      "title": "string",
      "due": "YYYY-MM-DD or null",
      "note": "string",
      "done": false,
      "created_at": "ISO8601",
      "updated_at": "ISO8601"
    }
  ]
}
```

#### 9.2 SQLite テーブル概要（Phase 2）

| テーブル    | 主キー                | カラム                                                                         |
| ------- | ------------------ | --------------------------------------------------------------------------- |
| `tasks` | `id` (TEXT / UUID) | `title`, `due` (DATE), `note`, `done` (INTEGER), `created_at`, `updated_at` |

---

### 10. システム構成 & アーキテクチャ

```text
┌─────────────────┐
│  View (CLI / GUI)│  Tkinter/PyQt  ← Phaseごとに追加
└─────────┬───────┘
          │イベント
┌─────────▼────────┐
│ Controller (Service) │  ビジネスロジック／バリデーション
└─────────┬────────┘
          │リポジトリAPI
┌─────────▼────────┐
│   Model / Repository │  ドメインモデル & I/O（JSON / SQLite）
└─────────────────┘
```

*テスト層は各レイヤに対し独立。*

---

### 11. 品質要求指標

| 指標         | 目標値        |
| ---------- | ---------- |
| 単体テスト網羅率   | 80 %以上     |
| Pylint スコア | 9.0 以上     |
| 重大バグ（P1）   | リリース前に 0 件 |

---

### 12. 制約条件

* Python 3.12 以降必須
* OSS ライブラリのみ（商用ライセンス不要）
* クラウド同期・モバイル対応は Phase 4 以降の学習課題とする

---

### 13. マイルストーン（案）

| 日付         | フェーズ       | 成果物               |
| ---------- | ---------- | ----------------- |
| 2025‑05‑18 | Phase 1 完了 | CLI 版＋JSON 保存＋テスト |
| 2025‑06‑01 | Phase 2 完了 | SQLite 移行・DAO 実装  |
| 2025‑06‑22 | Phase 3 完了 | Tkinter GUI β     |
| 2025‑07‑20 | Phase 4 完了 | PyQt GUI＋タグ／検索    |

---

### 14. テスト計画概要

* **単体テスト**：CRUD & バリデーション
* **結合テスト**：Controller↔Repository, GUI↔Controller
* **ユーザビリティテスト**：初心者 5 名に操作時間・誤操作率をヒアリング

---

### 15. 参考・競合比較まとめ

* **Todoist / TickTick**：豊富な機能だが学習コスト↑
* **Google Tasks / Any.do**：シンプルだが機能不足
* 本アプリは **「学習目的の最小実装」** を核とし、Phase 拡張で市場機能に近づける。

---

これで「プログラミング初学者が作れる範囲」の要件定義書をまとめました。
今後、詳細設計や GUI モック、SQLite スキーマ詳細などのドキュメント化が必要になった際はお知らせください！
